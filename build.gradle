plugins {
    id 'org.spongepowered.plugin' version '0.9.0'
    id 'signing'
    id 'org.spongepowered.ore' version '0.9.0'
    id 'com.github.hierynomus.license' version '0.15.0'
}

group = pluginGroup
version = pluginVersion

dependencies {
    compile 'org.spongepowered:spongeapi:7.0.0'
    annotationProcessor 'org.spongepowered:spongeapi:7.0.0'
}

sourceCompatibility = 8
targetCompatibility = 8

sponge.plugin {
    id = pluginId
    meta {
        name = 'Sudo'
        description = 'Run commands as the console in a single-player world'
    }
}

signing {
    useGpgCmd()
    sign configurations.archives
    required = !version.endsWith('-SNAPSHOT')
}

tasks.signArchives.enabled = signing.required

license {
    header = file('LICENSE.txt')
    mapping {
        java='SLASHSTAR_STYLE'
    }
}

processResources {
    // Include LICENSE in final JAR
    from 'LICENSE.txt'
}
